// 寄存器个数
#REGISTER
//32bit,	64bit,	128bit,	256bit, special
  64,		8,		16,		0,		4

// 自增寄存器
#INC-REGS
 39, 40, 41, 42, 43, 44,

// 寄存器映射
#REG-MAP
//name,		mapTo
r92,        r78 0+64,
r93,        r78 64+64,
r94,        r79 0+64,
r95,        r79 64+64,

//r88,		r72 0+32,
//r89,		r72 32+32,
//r90,		r72 64+32,
//r91,		r72 64+32,

r96,		r64 0+32,
r97,		r64 32+32,
r98,		r65 0+32,
r99,		r65 32+32,
r100,		r66 0+32,
r101,		r66 32+32,
r102,		r67 0+32,
r103,		r67 32+32,
r104,		r68 0+32,
r105,		r68 32+32,
r106,		r69 0+32,
r107,		r69 32+32,
r108,		r70 0+32,
r109,		r70 32+32,
r110,		r71 0+32,
r111,		r71 32+32,

r112,		r76 0+32,
r113,		r76 32+32,
r114,		r76 64+32,
r115,		r76 96+32,
r116,		r77 0+32,
r117,		r77 32+32,
r118,		r77 64+32,
r119,		r77 96+32,
r120,		r78 0+32,
r121,		r78 32+32,
r122,		r78 64+32,
r123,		r78 96+32,
r124,		r79 0+32,
r125,		r79 32+32,
r126,		r79 64+32,
r127,		r79 96+32,

// 寄存器别名
#REG-ALIAS
//alias,	register,
ptr0,		r39,
ptr1,		r40,
ptr2,		r41,
ptr3,		r42,
ptr4,		r43,
ptr5,		r44,
rv,			r45,
rj,	     	r46,
cr,			r47,
iv0,		r48,
iv1,		r49,
iv2,		r50,
iv3,		r51,
iv4,		r52,
iv5,		r53,
iv6,		r54,
iv7,		r55,
iv8,		r56,
iv9,		r57,
iv10,		r58,
iv11,		r59,
iv12,		r60,
sp,			r61,
irp,		r62,
rp,			r63,
d0,			r64,
d1,			r65,
d2,			r66,
d3,			r67,
d4,			r68,
d5,			r69,
d6,			r70,
d7,			r71,
d8,			r92,
d9,			r93,
d10,		r94,
d11,		r95,
d0_lo,		r96,
d0_hi,		r97,
d1_lo,		r98,
d1_hi,		r99,
d2_lo,		r100,
d2_hi,		r101,
d3_lo,		r102,
d3_hi,		r103,
d4_lo,		r104,
d4_hi,		r105,
d5_lo,		r106,
d5_hi,		r107,
d6_lo,		r108,
d6_hi,		r109,
d7_lo,		r110,
d7_hi,		r111,
s0,			r72,
s1,			r73,
s2,			r74,
s3,			r75,
s4,			r76,
s5,			r77,
s6,			r78,
s7,			r79,
s8,			r80,
s9,			r81,
s10,		r82,
s11,		r83,
s12,		r84,
s13,		r85,
s14,		r86,
s15,		r87,

s4_0,		r112,
s4_1,		r113,
s4_2,		r114,
s4_3,		r115,
s5_0,		r116,
s5_1,		r117,
s5_2,		r118,
s5_3,		r119,
s6_0,		r120,
s6_1,		r121,
s6_2,		r122,
s6_3,		r123,
s7_0,		r124,
s7_1,		r125,
s7_2,		r126,
s7_3,		r127,
s6_01,		r92,
s6_23,		r93,
s7_01,		r94,
s7_23,		r95,
// 指令模板	
#TEMPLATE
//id,		word,		OPCODE,		T1,		T2,		DST,		RD1,		RD2,	example,
0,			1,			w0 23+9,	w0 22,	w0 21,	w0 14+7,	w0 7+7,		w0 0+7,	add,
1,			2,			w0 23+9,	w0 22,	w0 21,	w0 14+7,	w1 0+32, 	,		lc,
2,			1,			w0 23+9,	,		,		w0 16+7,	w0 0+16, 	,		lcs,
3,			1,			w0 23+9,	,		w0 21,	,			, 			w0 0+21,jmp,
4,			1,			w0 23+9,	,		,		w0 0+21,	,		 	,		hlt,

// 指令
#INSTRUCTION
//template,	name,		dst,	rd1,			rd2,				code,			cost,		delay,
// 程序控制	
0,			nop,		,		,       		,					b000000000,		c:2,		0,
0,			cache_clr,	,		,       		,					b000001000,		c:2,		0,
0,			img_line_rd, ,		,       		,					b000001001,		c:2,		0,
0,			img_data_rd, ,		,       		,					b000001010,		c:2,		0,
4,			hlt,		num,	,       		,					b000000010,		c:2,		0,
1,			lc,			reg32,	num|var,   		,					b000000100,		c:2,		0,
2,			lcs,		reg32,	num|var,   		,					b000000110,		c:2,		0,
2,			lcss,		reg32,	num|var,   		,					b000000111,		c:2,		0,
3,			jmp,		,		,				reg32|num|var,		b000101000,		c:2,		0,
3,			call,		,		,				reg32|num|var,		b000101001,		c:2,		0,
0,			cjmpe,		reg32,	reg32|num,		reg32|num,			b000111000,		j:2-4,		0,
0,			cjmpne,		reg32,	reg32|num,		reg32|num,			b000110100,		j:2-4,		0,
0,			cjmpsg,		reg32,	reg32|num,		reg32|num,			b000110001,		j:2-4,		0,
0,			cjmpsge,	reg32,	reg32|num,		reg32|num,			b000111001,		j:2-4,		0,
0,			cjmpug,		reg32,	reg32|num,		reg32|num,			b000110010,		j:2-4,		0,
0,			cjmpuge,	reg32,	reg32|num,		reg32|num,			b000111010,		j:2-4,		0,
0,			cjmpfe,		reg32,	reg32,			reg32,				b000101101,		j:2-4,		0,
0,			cjmpfg,		reg32,	reg32,			reg32,				b000101110,		j:2-4,		0,
0,			cjmpfge,	reg32,	reg32,			reg32,				b000101111,		j:2-4,		0,
0,			cjmpeb,		reg32,	reg32,			num,				b000101010,		j:2-4,		0,
0,			cjmpneb,	reg32,	reg32,			num,				b000101011,		j:2-4,		0,
0,			cjmpe64,	reg32,	reg64|num,	    reg64|num,			b000011000,		j:2-4,		0,
0,			cjmpne64,	reg32,	reg64|num,	    reg64|num,			b000010100,		j:2-4,		0,
0,			cjmpsg64,	reg32,	reg64|num,	    reg64|num,			b000010011,		j:2-4,		0,
0,			cjmpsge64,	reg32,	reg64|num,	    reg64|num,			b000011011,		j:2-4,		0,

// DATA_BUS,指令,		读:目标寄存器;写:目标地址,	  读:源地址;写:值,	地址偏移
0,			lm,			reg128,						reg32,		    reg32|num,			b001000000,		c:2,	0,
0,			sm,			reg32,						reg128,			reg32|num,			b001000010,		c:2,	0,
0,			l64,		reg64,						reg32,		    reg32|num,			b001000100,		c:2,	0,
0,			s64,		reg32,						reg64|num,		reg32|num,			b001000110,		c:2,	0,
0,			lw,			reg32,						reg32,		    reg32|num,			b001001000,		c:2,	0,
0,			sw,			reg32,						reg32|num,		reg32|num,			b001001010,		c:2,	0,
0,			push,		reg32,						reg32|num,		reg32|num,	        b001001011,		c:2,	0,
0,			ls,			reg32,						reg32,	    	reg32|num,			b001001101,		c:2,	0,
0,			ss,			reg32,						reg32|num,		reg32|num,			b001001111,		c:2,	0,
0,			lsl,		reg32,						reg32,		    reg32|num,			b001001100,		c:2,	0,
0,			ssl,		reg32,						reg32|num,		reg32|num,			b001001110,		c:2,	0,
0,			lbyte,		reg32,						reg32,	     	reg32|num,			b001010000,		c:2,	0,
0,			sbyte,		reg32,						reg32|num,		reg32|num,			b001010010,		c:2,	0,
0,			lbyteh,		reg32,						reg32,		    reg32|num,			b001010001,		c:2,	0,
0,			sbyteh,		reg32,						reg32|num,		reg32|num,			b001010011,		c:2,	0,
0,			l2b,		reg32,						reg32,		    reg32|num,			b001010100,		c:2,	0,
0,			s2b,		reg32,						reg32|num,		reg32|num,			b001010110,		c:2,	0,
0,			lbit,		reg32,						reg32,		    reg32|num,			b001011000,		c:2,	0,
0,			sbit,		reg32,						reg32|num,		reg32|num,			b001011010,		c:2,	0,

0,			lm_d,		reg128,						reg32,		    reg32|num,			b001100000,		c:2,	0,
0,			l64_d,	    reg64,						reg32,		    reg32|num,			b001100100,		c:2,	0,
0,			lw_d,		reg32,						reg32,		    reg32|num,			b001101000,		c:2,	0,



// 代数运算
0,			add,		reg32,	reg32|num,		reg32|num,			b101100000,		c:2,	0,
0,			sub,		reg32,	reg32|num,		reg32|num,			b101100001,		c:2,	0,
0,			add64,		reg64,	reg64|num,		reg64|num,	    	b101100100,		c:2,	0,
0,			sub64,		reg64,	reg64|num,		reg64|num,	    	b101100101,		c:2,	0,
0,			fadd,		reg32,	reg32,		    reg32,	    	    b101100110,		c:2,	0,
0,			fsub,		reg32,	reg32,		    reg32,	    	    b101100111,		c:2,	0,
0,			fneg,		reg32,	reg32,		    ,	            	b101010001,		c:2,	0,
0,			abs,		reg32,	reg32|num,		,					b101010000,		c:2,	0,
0,			abs64,		reg64,	reg64,	     	,					b101010100,		c:2,	0,
0,			fabs,		reg32,	reg32,	    	,					b101010110,		c:2,	0,
0,			min,		reg32,	reg32|num,		reg32|num,			b100110001,		c:2,	0,
0,			min64,		reg64,	reg64,		    reg64,	     		b100110101,		c:2,	0,
0,			max,		reg32,	reg32|num,		reg32|num,			b100111001,		c:2,	0,
0,			max64,		reg64,	reg64,		    reg64,		    	b100111101,		c:2,	0,
0,			fmin,		reg32,	reg32,		    reg32,		    	b100110011,		c:2,	0,
0,			fmax,		reg32,	reg32,		    reg32,		    	b100111011,		c:2,	0,
0,			muls16f,	reg32,	reg32|num,		reg32|num,			b010010000,		c:2,	0,
0,			muls16,		reg32,	reg32|num,		reg32|num,			b010001110,		c:2,	0,
0,			muls32f,	reg32,	reg32|num,		reg32|num,			b010010100,		c:2,	0,
0,			muls32,	    reg32,	reg32|num,		reg32|num,			b010010010,		c:2,	0,
0,			muls32_64,	reg64,	reg32|num,		reg32|num,			b010010110,		c:2,	0,
0,			muls64_32,	reg64,	reg64,			reg32|num,		 	b010011010,		c:2,	1,
0,   		muls64_64, 	reg64, 	reg64|num,     	reg64|num,    		b010111110,  	c:2,	1,
0,			muls64_32f,	reg64,	reg64,			reg32|num,		 	b010011100,		c:2,	1,
0,			mulc,		reg32,	reg32,			reg32,				b010100000,		c:2,	0,
0,			mulc_32o,   reg64,	reg32,			reg32,				b010100010,		c:2,	0,
0,			mulc32_16,  reg64,	reg64,			reg32,				b010100100,		c:2,	1,
0,			mulc32_32,  reg64,	reg64,			reg64,				b010100110,		c:2,	1,
0,			fmul,       reg32,	reg32,			reg32,				b010101000,		c:2,	0,
0,			fmuladd,    reg32,	reg32,			reg32,				b010101010,		c:2,	1,
0,			fmulsub,    reg32,	reg32,			reg32,				b010101100,		c:2,	1,
0,			fmulc,      reg64,	reg64,			reg64,				b010101110,		c:2,	1,
0,			fmulc_conj, reg64,	reg64,			reg64,				b010110000,		c:2,	1,
0,			divs32f,	reg32,	reg32|num,		reg32|num,	    	b011000000,		c:2,	0,
0,			divs32,		reg32,	reg32|num,		reg32|num,			b011000010,		c:2,	0,
0,			divs64_32,  reg64,	reg64|num,	    reg32|num,		    b011000110,		c:2,	0,
0,			divs64,     reg64,	reg64|num,	    reg64|num,       	b011000100,		c:2,	0,
0,			fdiv,       reg32,	reg32,		    reg32,       	    b011001000,		c:2,	0,
0,			cvt64_32,	reg32,	reg64,	     	,		       	    b101001100,		c:2,	0,
0,			cvt32_16,	reg32,	reg32,	        ,     		       	b101001001,		c:2,	0,
0,			cvt32_64,	reg64,	reg32|num,	    num,		        b101001010,		c:2,	0,
0,			signed,		reg32,	reg32|num,	    ,		            b101011100,		c:2,	0,
0,   		rpc16,  	reg32, 	reg64,      	num,          		b101010010,  	c:2,	0,
0,			linear,		reg32,	reg32,	        num,		        b101011000,		c:2,	0,
0,			relu,		reg32,	reg32,	        num,		        b101011001,		c:2,	0,
0,			leaky,		reg32,	reg32,	        num,		        b101011010,		c:2,	0,
0,			comp,		reg64,	reg32|num,	    reg32|num,		    b010110010,		c:2,	0,

// 复杂算数运算
0,			atk_rls,	reg32,	reg32,			reg32,				b010011000,		c:2,	0,
0,			conj,		reg32,	reg32,          ,                   b010000100,		c:2,	0,
0,			fconj,		reg64,	reg64,          ,                   b010110100,		c:2,	0,
0,			conj32,		reg64,	reg64,          ,                   b010110110,		c:2,	0,
0,			sqrt,		reg32,	reg32|num,		,					b011100110,		c:2,	0,
0,			sqrtf,	    reg32,	reg32|num,		,					b011101000,		c:2,	0,
0,			fsqrt,	    reg32,	reg32,		    ,					b011101010,		c:2,	0,
0,			exp2_frac32,reg32,	reg32|num,		,					b011100000,		c:2,	0,
0,			exp2_m16p16,reg32,	reg32|num,		,					b011100010,		c:2,	0,
0,			log2_m16p16,reg32,	reg32|num,		,					b011011000,		c:2,	0,
0,			log2_frac32,reg32,	reg32|num,		,					b011011010,		c:2,	0,
0,			flog2      ,reg32,	reg32,	    	,					b011011100,		c:2,	0,
0,			sin,		reg32,	reg32|num,		,					b011001100,		c:2,	0,
0,			cos,		reg32,	reg32|num,		,					b011010000,		c:2,	0,
0,			fsin,		reg32,	reg32,		    ,					b011001110,		c:2,	0,
0,			fcos,		reg32,	reg32,		    ,					b011010010,		c:2,	0,
0,			add_c,		reg32,	reg32,			reg32,				b010000110,		c:2,	0,
0,			sub_c,		reg32,	reg32,			reg32,				b010001010,		c:2,	0,
0,			add_c32,	reg64,	reg64,			reg64,				b010111000,		c:2,	0,
0,			sub_c32,	reg64,	reg64,			reg64,				b010111010,		c:2,	0,
0,			fadd_c,		reg64,	reg64,			reg64,				b010001000,		c:2,	0,
0,			fsub_c,		reg64,	reg64,			reg64,				b010001100,		c:2,	0,
// 位运算
0,			and,		reg32,	reg32|num,		reg32|num,			b101000011,		c:2,	0,
0,			and64,		reg64,	reg64,	    	reg64,		    	b101000111,		c:2,	0,
0,			or,			reg32,	reg32|num,		reg32|num,			b101000010,		c:2,	0,
0,			or64,	    reg64,	reg64,		    reg64,		     	b101000110,		c:2,	0,
0,			xor,		reg32,	reg32|num,		reg32|num,			b101000000,		c:2,	0,
0,			xor64,		reg64,	reg64,		    reg64,	    		b101000100,		c:2,	0,
0,			sl,			reg32,	reg32|num,		reg32|num,			b100001000,		c:2,	0,
0,			slp,		reg32,	reg32|num,		reg32|num,			b100001001,		c:2,	0,
0,			sru,		reg32,	reg32|num,		reg32|num,			b100001010,		c:2,	0,
0,			srs,		reg32,	reg32|num,		reg32|num,			b100001011,		c:2,	0,
0,			slc,		reg32,	reg32|num,		reg32|num,			b010000000,		c:2,	0,
0,			src,		reg32,	reg32|num,		reg32|num,			b010000010,		c:2,	0,
0,			sl64,		reg64,	reg64,		    reg32|num,			b100001100,		c:2,	0,
0,			srs64,		reg64,	reg64,		    reg32|num,			b100001101,		c:2,	0,
0,			sl32,		reg64,	reg32|num,	    reg32|num,			b100001111,		c:2,	0,
0,			bit_set,	reg32,	reg32,			num,				b100100000,		c:2,	0,
0,			bit_clr,	reg32,	reg32,			num,				b100100010,		c:2,	0,
0,			byte_match,		 ,	reg128,		    num,			    b100000100,		c:2,	0,
0,			bm_clear,	     ,	      ,		       ,			    b100000101,		c:2,	0,
0,			bm_reset,	     ,	      ,		       ,			    b100000111,		c:2,	0,
0,			bm_update,	     ,	      ,		       ,			    b100000110,		c:2,	0,
0,			loop_sr32,  reg128,	reg128,		    reg32,	    		b100100100,		c:2,	0,
0,			loop_sr16,  reg128,	reg128,		    reg32,	    		b100100101,		c:2,	0,
0,			loop_sr8,   reg128,	reg128,		    reg32,	    		b100100110,		c:2,	0,
0,			loop_sl32,  reg128,	reg128,		    reg32,	    		b100101000,		c:2,	0,
0,			loop_sl16,  reg128,	reg128,		    reg32,	    		b100101001,		c:2,	0,
0,			loop_sl8,   reg128,	reg128,		    reg32,	    		b100101010,		c:2,	0,
0,			i8tof32,	reg32,	reg32|num,	    reg32|num,			b100010000,		c:2,	0,
0,			i32tof32,	reg32,	reg32|num,	    reg32|num,			b100010010,		c:2,	0,
0,			f32toi32,	reg32,	reg32,	        reg32|num,			b100010110,		c:2,	0,
0,			f32toi64,	reg64,	reg32,	        reg32|num,			b100011000,		c:2,	0,
0,			fsl,      	reg32,	reg32,	        reg32|num,	       	b100011001,		c:2,	0,
0,			rd8,      	reg32,	reg128,	        reg32|num,	       	b100011010,		c:2,	0,
0,			rd16l,     	reg32,	reg128,	        reg32|num,	       	b100011100,		c:2,	0,
0,			rd16h,      reg32,	reg128,	        reg32|num,	       	b100011101,		c:2,	0,
0,			rd32,      	reg32,	reg128,	        reg32|num,	       	b100011110,		c:2,	0,
0,			rd64,      	reg64,	reg128,	        reg32|num,	       	b100011111,		c:2,	0,

// SIMD
0,			simd_sample,reg128,	reg128,			num,				b110000000,		c:2,	0,
// simd_sl, 128bit的数据整体左移n个8bit                             
0,			simd_sl,	reg128,	reg128,			reg32|num,			b111000000,		c:2,	0,
0,			simd_xor,	reg128,	reg128,			reg128,				b110100000,		c:2,	0,
0,			simd_match,	reg32,	reg128,			reg128,				b111100000,		c:2,	0,
0,			simd_and,	reg128,	reg128,			reg128,				b110010000,		c:2,	0,
0,			simd_or,	reg128,	reg128,			reg128,				b111010000,		c:2,	0,
// simd_set,设置128bit寄存器的低n个字节为ff,其余高字节为0           	
0,			simd_set,	reg128,	num,			,					b110110000,		c:2,	0,
0,			simd_2bit_to_1bit,  reg128, reg128,	reg128,				b111110000,		c:2,	0,
0,			simd_mul,	reg128,	reg128,			reg128,				b110001000,		c:2,	0,
0,			simd_muladd,reg32,	reg128,			reg128,				b111001000,		c:2,	1,
0,			simd_1bit_to_2bit,  reg128, reg64,	,	     			b110101000,		c:2,	0,
0,   		simd_muls16,        reg128, reg64, 	reg64,       		b111101000,  	c:2,	0,
0,   		simd_muls16_add,    reg32,  reg64, 	reg64,       		b111101001,  	c:2,	1,
0,   		simd_muls32,        reg64,  reg64, 	reg64,       		b110011000,  	c:2,	0,
0,   		simd_muls32_add,    reg32,  reg64, 	reg64,       		b110011001,  	c:2,	1,
0,			simd_8to32, reg128, reg32,	        ,    		     	b111011000,		c:2,	0,
0,			simd_16to32,reg128, reg64,	        ,    		     	b111011010,		c:2,	0,
0,			simd_8to16, reg128, reg64,	        ,    		     	b111111000,		c:2,	0,
0,   		simd_32to16,reg64,  reg128,         num,           		b110000100,  	c:2,	0,
0,   		simd_16to8, reg64,  reg128,         num,           		b111000100,  	c:2,	0,
0,			simd_add32, reg128, reg128,	        reg128,  	     	b110100100,		c:2,	0,
0,			simd_sub32, reg128, reg128,	        reg128,  	     	b110100101,		c:2,	0,
0,			simd_add16, reg128, reg128,	        reg128,  	     	b110100110,		c:2,	0,
0,			simd_max16_8, reg32,  reg128,	    ,    		     	b110001110,		c:2,	0,
0,			simd_linear,reg64,  reg128,	        num,    	     	b110010100,		c:2,	0,
0,			simd_relu,  reg64,  reg128,	        num,    	     	b110010101,		c:2,	0,
0,			simd_leaky, reg64,  reg128,	        num,    	     	b110010110,		c:2,	0,
0,			simd_ext32, reg128, reg32,	        ,    		     	b111010100,		c:2,	0,
0,			simd_ext16, reg128, reg32,	        num,  		     	b110110100,		c:2,	0,
0,			simd_fmul,  reg128, reg128,	        reg128,  	     	b111110100,		c:2,	0,
0,			simd_fmuladd,reg32, reg128,	        reg128,  	     	b110001100,		c:2,	1,
0,			simd_fadd,  reg128, reg128,	        reg128,  	     	b111001100,		c:2,	0,
0,			simd_fsub,  reg128, reg128,	        reg128,  	     	b111001101,		c:2,	0,
0,			simd_fsum,  reg32,  reg128,	        ,  	     	        b111001110,		c:2,	1,
0,			simd_fmax1, reg32,  reg128,	        ,  	           	    b110101100,		c:2,	0,
0,			simd_fmin1, reg32,  reg128,	        ,  	           	    b110101101,		c:2,	0,
0,			simd_fmax4, reg128, reg128,	        reg128,         	b110101110,		c:2,	0,
0,			simd_fmin4, reg128, reg128,	        reg128,         	b110101111,		c:2,	0,
0,			simd_fabs,  reg128, reg128,	        ,         	        b111101100,		c:2,	0,
0,			simd_i8f32, reg128, reg32,	        reg32|num,         	b110011100,		c:2,	0,
0,			simd_i32f32,reg128, reg128,	        reg32|num,         	b110011101,		c:2,	0,
0,			simd_f32i32,reg128, reg128,	        reg32|num,         	b111011100,		c:2,	0,
0,			simd_f32i64,reg128, reg64,	        reg32|num,         	b111011101,		c:2,	0,

0,			simd_shuffle64,    reg64,   reg64,	,  		        	b111110110,		c:2,	0,
0,			simd_shuffle128,   reg128,  reg128,	,  		        	b111110111,		c:2,	0,
#SPECIAL-INSTRUCTION-TEMPLATE
//ID,		word,		code,	   flag,	  adr_in1,	 in1_mode, num,		   adr_in2,	  cmd_mode,  in1_type,  in2_en,  in2_mode, in2_type,  out_type, out_adr
0,			3,			w0 23+9 u, w0 20+3 u, w0 0+20 u, w1 31 u,  w1 20+11 u, w1 0+20 u, w2 27+5 u, w2 25+2 u, w2 24 u, w2 23 u,  w2 21+2 u, w2 20 u,  w2 0+20 u


#SPECIAL-INSTRUCTION
//template,	name,			code,
0, 			v_abs,			b010000101,
0, 			v_add,			b010110001, 
0, 			v_add_c,		b010101011,
0, 			v_conj,			b010100001,
0, 			v_copy,			b010000011,
0, 			v_correlat,		b011100111,
0, 			v_correlat_c,	b011111011,
0, 			v_cos,			b011001001,
0, 			v_energy,		b011110001,
0, 			v_exp2_m16p16,	b011000011,
0, 			v_fft,			b010010011,
0, 			v_fir,			b011100101,
0, 			v_fir_c,		b011101101,
0, 			v_gain,			b011110011,
0, 			v_ifft,			b010010111,
0, 			v_iir,			b011101001,
0, 			v_iir_c,		b011101011,
0, 			v_log2_m16p16,	b011000101,
0, 			v_mat,			b011100001,
0, 			v_mat_c,	    b011111111,
0, 			v_mat_t,		b010001101,
0, 			v_max,			b010101001,
0,			v_mfft,			b010010001,
0,			v_mifft,		b010010101,
0, 			v_min,			b010100111,
0, 			v_mix,			b010101111,
0, 			v_muls,			b011100011,
0, 			v_muls32,		b011110111,
0, 			v_muls_c,		b011111001,
0, 			v_muls_conj,	b011111101,
0, 			v_polarrect,	b010000111,
0, 			v_rectpolar,	b010001001,
0, 			v_sqrt,			b011000001,
0, 			v_sin,			b011000111,
0, 			v_slp,			b011001011,
0, 			v_slc,			b011001101,
0, 			v_src,			b011001111,
0, 			v_sub,			b010110011,
0, 			v_sub_c,		b010101101,
0, 			v_mul32_c,		b011101111,
0, 			v_mat32_c,		b011110101,
0, 			v_divs,		    b011010001,
0, 			v_divs_p16,	    b011010011,
0, 			v_divs_p31,	    b011010101,

// 指令别名
#INSTRUCTION-ALIAS
// usage,				inst-1,					inst-2,				inst-3,				inst-4,				inst-5,				inst-6,				inst-7,
set_bits io low value, 	sl rv value low,		or io io rv,		,					,					,					,					,
lcsu a b,				lcs a b,				,					,					,					,					,					,
cjmpul a b c,			cjmpug a c b,			,					,					,					,					,					,
cjmpule a b c,			cjmpuge a c b,			,					,					,					,					,					,
cjmpsl a b c,			cjmpsg a c b,			,					,					,					,					,					,
cjmpsle a b c,			cjmpsge a c b,			,					,					,					,					,					,
cjmpfl a b c,			cjmpfg a c b,			,					,					,					,					,					,
cjmpfle a b c,			cjmpfge a c b,			,					,					,					,					,					,
cjmpsl64 a b c,			cjmpsg64 a c b,			,					,					,					,					,					,
cjmpsle64 a b c,		cjmpsge64 a c b,		,					,					,					,					,					,
hlt,					hlt 0,					,					,					,					,					,					,
mov a b,				add a b 0,				,					,					,					,					,					,
neg dst rd2,			sub dst 0 rd2,			,					,					,					,					,					,
not dst rd1,			xor dst rd1 -1,			,					,					,					,					,					,
ret,					jmp rp,					,					,					,					,					,					,
inc dst rd2,			add dst dst rd2,		,					,					,					,					,					,
iret,					jmp irp,				,					,					,					,					,					,
jmp var,				jmp var,			    ,				    ,					,					,					,					,
call var,				call var,				,		        	,					,					,					,					,
lv reg var,				lcs rv var,				lw reg rv 0,		,					,					,					,					,
lvw reg var,			lc rv var,				lw reg rv 0,		,					,					,					,					,
sv reg var,				lcs rv var,				sw reg rv 0,		,					,					,					,					,
sv reg var,				lc rv var,				sw reg rv 0,		,					,					,					,					,
svw reg var,			lc rv var,				sw reg rv 0,		,					,					,					,					,
sv var reg,				lcs rv var,				sw rv reg 0,		,					,					,					,					,
sv var reg,				lc rv var,				sw rv reg 0,		,					,					,					,					,
svw var reg,			lc rv var,				sw rv reg 0,		,					,					,					,					,
sv dst src,				lcs rv dst,				lcs rj src,			sw rv rj 0,			,					,					,					,
svw dst src,			lc rv dst,				lc rj src,			sw rv rj 0,			,					,					,					,
pop a,					lw a sp 0,				,					,					,					,					,					,
push a,					push sp a 0,			,					,					,					,					,					,
// lcs编译失败的话 自动适配lc
lcs dst src,			lc dst src,				,					,					,					,					,					,

lm a b,					lm a b 0,				,					,					,					,					,					,
sm a b,					sm a b 0,				,					,					,					,					,					,
l64 a b,				l64 a b 0,				,					,					,					,					,					,
s64 a b,			    s64 a b 0,				,					,					,					,					,					,
lw a b,					lw a b 0,				,					,					,					,					,					,
sw a b,					sw a b 0,				,					,					,					,					,					,
ls a b,					ls a b 0,				,					,					,					,					,					,
ss a b,					ss a b 0,				,					,					,					,					,					,
lbyte a b,				lbyte a b 0,			,					,					,					,					,					,
sbyte a b,				sbyte a b 0,			,					,					,					,					,					,
lbit a b,				lbit a b 0,				,					,					,					,					,					,
sbit a b,				sbit a b 0,				,					,					,					,					,					,
lps a b,				ls a b 0,				,					,					,					,					,					,
sps a b,				ss a b 0,				,					,					,					,					,					,
l2b a b,				l2b a b 0,				,					,					,					,					,					,
s2b a b,				s2b a b 0,				,					,					,					,					,					,
lpw reg addr,			lc rv addr,				lw reg rv 0,		,					,					,					,					,
spw addr reg,			lc rv addr,				sw rv reg 0,		,					,					,					,					,
spw addr value,			lc rv addr,				lc rj value,		sw rv rj 0,			,					,					,					,
spw a b,				sw a b 0,				,					,					,					,					,					,          
sps a b,				ss a b 0,				,					,					,					,					,					,
lpw a b,				lw a b 0,				,					,					,					,					,					,
lps a b,				ls a b 0,				,					,					,					,					,					,
lm a b,					lcs rv b,				lm a rv 0,			,					,					,					,					,
sm a b,					lcs rv b,				sm a rv 0,			,					,					,					,					,
l64 a b,				lcs rv b,				l64 a rv 0,			,					,					,					,					,
s64 a b,				lcs rv b,				s64 a rv 0,			,					,					,					,					,

lsl a b,				lsl a b 0,				,					,					,					,					,					,
ssl a b,				ssl a b 0,				,					,					,					,					,					,

lsh a b,				ls a b 0,				,					,					,					,					,					,
ssh a b,				ss a b 0,				,					,					,					,					,					,
lsh a b c,				ls a b c,				,					,					,					,					,					,
ssh a b c,				ss a b c,				,					,					,					,					,					,

lbyteh a b,				lbyteh a b 0,		    ,					,					,					,					,					,
sbyteh a b,				sbyteh a b 0,		    ,					,					,					,					,					,

lbytel a b,		        lbyte a b 0,		    ,					,					,					,					,					,
sbytel a b,		        sbyte a b 0,		    ,					,					,					,					,					,
lbytel a b c,		    lbyte a b c,		    ,					,					,					,					,					,
sbytel a b c,		    sbyte a b c,		    ,					,					,					,					,					,

lm_d a b,	            lm_d a b 0,	            ,					,					,					,					,					,
l64_d a b,              l64_d a b 0,            ,					,					,					,					,					,
lw_d a b,	            lw_d a b 0,	            ,					,					,					,					,					, 
simd_copy dst src,	    simd_sl dst src 0,		,					,					,					,					,					,
// 向量运算的固定参数 参照<U31芯片指令和向量运算.docx>
v_copy 		k a b c d e f,			v_copy 		 k a 1 b 0 c d 0 0 0 e f,	,		,		,					,					,					,
v_abs 		k a b c d e f,			v_abs 		 k a 1 b 0 c d 0 0 0 e f,	,		,		,					,					,					,
v_mix 		k a b c d,				v_mix 		 k a 1 b c 1 2 1 1 2 1 d,	,		,		,					,					,					,
v_energy 	k a b c d,			    v_energy 	 k a 1 b 0 c 2 0 0 0 1 d,	,		,		,					,					,					,
v_fir 		k a b c d e f,			v_fir 		 k a 1 b c 8 d 1 1 1 e f,	,		,		,					,					,					,
v_fir_c		k a b c d e f,			v_fir_c		 k a 1 b c 8 d 1 1 1 e f,	,		,		,					,					,					,
v_iir 		k a b c d e f g,		v_iir 		 k a 1 b c 8 d 1 1 e f g,	,		,		,					,					,					,
v_iir_c		k a b c d e f g,		v_iir_c		 k a 1 b c 8 d 1 1 e f g,	,		,		,					,					,					,
v_correlat	k a b c d e f g,		v_correlat 	 k a 1 b c 8 d 1 1 e f g,	,		,		,					,					,					,
v_correlat_c k a b c d e f g,		v_correlat_c k a 1 b c 8 d 1 1 e f g,	,		,		,					,					,					,
v_conj 		k a b c,			    v_conj 		 k a 1 b 0 1 2 0 0 2 1 c,	,		,		,					,					,					,
v_add_c		k a s b c d e f,		v_add_c		 k a s b c d 2 1 e 2 1 f,	,		,		,					,					,					,
v_sub_c		k a s b c d e f,		v_sub_c		 k a s b c d 2 1 e 2 1 f,	,		,		,					,					,					,
v_add 		k a s b c d e f g h i,	v_add  		 k a s b c d e 1 f g h i,	,		,		,					,					,					,
v_sub 		k a s b c d e f g h i,	v_sub  		 k a s b c d e 1 f g h i,	,		,		,					,					,					,
v_max 		k a s b c d e f g h,	v_max  		 k a s b c 1 d 1 e f g h,	,		,		,					,					,					,
v_min 		k a s b c d e f g h,	v_min  		 k a s b c 1 d 1 e f g h,	,		,		,					,					,					,
v_sqrt 		k a b c d e,			v_sqrt 		 k a 1 b 0 1 c 0 0 0 d e,	,		,		,					,					,					,
v_exp2_m16p16 k a b c d e,		 v_exp2_m16p16 	 k a 1 b 0 1 c 0 0 0 d e,	,		,		,					,					,					,
v_log2_m16p16 k a b c d e,		 v_log2_m16p16	 k a 1 b 0 1 c 0 0 0 d e,	,		,		,					,					,					,
v_sin 		k a b c d e,			v_sin 		 k a 1 b 0 1 c 0 0 0 d e,	,		,		,					,					,					,
v_cos 		k a b c d e,			v_cos 		 k a 1 b 0 1 c 0 0 0 d e,	,		,		,					,					,					,
v_fft 		k a b c d e f,			v_fft  		 k a 1 b c d e 1 1 1 1 f,	,		,		,					,					,					,
v_ifft  	k a b c d e,    		v_ifft 		 k a 1 b c d 2 1 1 1 1 e,	,		,		,					,					,					,
v_gain		k a b c d e,		    v_gain		 k a 1 b c 1 2 1 d 1 1 e,	,		,		,					,					,					,
v_polarrect	k a b c,				v_polarrect  k a 1 b 0 1 2 0 0 0 1 c,	,		,		,					,					,					,
v_rectpolar	k a b c,				v_rectpolar  k a 1 b 0 1 2 0 0 0 1 c,	,		,		,					,					,					,
v_mat_t	    k a b c d e,			v_mat_t      k a 1 0 b 1 0 1 1 c d e,	,		,		,					,					,					,
v_mat_r     k a b c d e f g h,		v_mat		 k a 1 b c d e 1 1 f g h,	,		,		,					,					,					,
v_mat_c     k a b c d e,            v_mat_c      k a 1 b c d 2 1 1 2 1 e,	,		,		,					,					,					, 
v_muls_16f  k a b c d e f g,   		v_muls		 k a 1 b c d 1 1 e 1 f g,	,		,		,					,					,					,
v_muls_32f  k a b c d e f g,	    v_muls32	 k a 1 b c d 2 1 e 2 f g,	,		,		,					,					,					,
v_muls_c    k a b c d e f g,	    v_muls_c	 k a 1 b c d 2 1 e 2 f g,	,		,		,					,					,					,
v_muls_conj k a b c d e f g,	   	v_muls_conj	 k a 1 b c d 2 1 e 2 f g,	,		,		,					,					,					,
v_slp 		k a b c d e f g h,		v_slp  		 k a 1 b c 1 d 1 e f g h,	,		,		,					,					,					,
v_slc 		k a b c d e f,		    v_slc  		 k a 1 b c 1 2 1 d e 1 f,	,		,		,					,					,					,
v_src 		k a b c d e f,		    v_src  		 k a 1 b c 1 2 1 d e 1 f,	,		,		,					,					,					,
v_mfft  	k a b c d e,    		v_mfft 		 k a 1 b 0 c d 0 0 0 1 e,	,		,		,					,					,					,      
v_mifft  	k a b c d e f,    		v_mifft 	 k a 1 b c d e 0 0 0 1 f,	,		,		,					,					,					,      
v_mulc32_16 k a b c d e f g,	    v_mul32_c	 k a 1 b c d 3 1 e 2 f g,	,		,		,					,					,					,
v_mulc32_32 k a b c d e f g,	    v_mul32_c	 k a 1 b c d 3 1 e 3 f g,	,		,		,					,					,					,
v_matc32_32 k a b c d e,            v_mat32_c    k a 1 b c d 3 1 1 3 1 e,	,		,		,					,					,					, 
v_matc32_16 k a b c d e,            v_mat32_c    k a 1 b c d 3 1 1 2 1 e,	,		,		,					,					,					, 
v_matc16_32 k a b c d e,            v_mat32_c    k a 1 b c d 2 1 1 3 1 e,	,		,		,					,					,					, 
v_divs      k a b c d e f g h,      v_divs       k a b c d 1 e 1 f g 1 h,	,		,		,					,					,					, 
v_divs_p16  k a b c d e f g h,      v_divs_p16   k a b c d 1 e 1 f g 1 h,	,		,		,					,					,					, 
v_divs_p31  k a b c d e f g h,      v_divs_p31   k a b c d 1 e 1 f g 1 h,	,		,		,					,					,					, 


wait_i2c,				hlt  1,					,					,					,					,					,					,
wait_img1,				hlt  2,					,					,					,					,					,					,
wait_img2,				hlt  3,					,					,					,					,					,					,
wait_vdma1,				hlt  4,					,					,					,					,					,					,
wait_spi,				hlt  5,					,					,					,					,					,					,
wait_flash,				hlt  6,					,					,					,					,					,					,
wait_psram,				hlt  7,					,					,					,					,					,					,
wait_uart_r,			hlt  8,					,					,					,					,					,					,
wait_uart_w,			hlt  9,					,					,					,					,					,					,
wait_time,				hlt 10,					,					,					,					,					,					,
wait_gpio,				hlt 11,					,					,					,					,					,					,
wait_music,				hlt 12,					,					,					,					,					,					,
wait_hw_fft,			hlt 13,					,					,					,					,					,					,
wait_hw_vec,			hlt 14,					,					,					,					,					,					,
wait_hw_fast,			hlt 15,					,					,					,					,					,					,
wait_key,				hlt 16,					,					,					,					,					,					,
wait_wnd,				hlt 17,					,					,					,					,					,					,
wait_spi_img1,			hlt 18,					,					,					,					,					,					,
wait_spi_img2,			hlt 19,					,					,					,					,					,					,


// 调试器配置
#DEBUGER-CONFIG
// name,				value,
I2C_ADDR_BYTE,			0x58,	
CPU_REG_BASE_ADDR,		0x09010000,
BREAK_POINT_SN,			0x00800000,
STS_REG_DBG_ADDR,		0x0901ff1c,
CURRENT_IP,				0x0901ff00,
CTL_REG_DBG_ADDR,		0x0901ff0c,
CTL_REG_STEP_ADDR,		0x0901ff14,
HALT_CMD_ADDR,			0x0901ff04,
UNHALT_CMD_ADDR,		0x0901ff08,
CTL_REG_RFRSH_ADDR,		0x0901ff20,
CTL_REG_CONT_ADDR,		0x0901ff18,
DATA_START_ADDR,		0x09000028,
STACK_START_ADDR,		0x0900002c,
RAM_SIZE,				0x00044000,
IIC_ENDIAN,				little,

//// 运行错误bit
//#RUMTIME-ERROR-BITS
// register,			bit,		error
r91,					19,			sqrt less than 0
r91,					18,			log2 less than 0
r91,					17,			float input error
r91,					13,			divide by 0
r91,					12,			ram port a access over flow
r91,					11,			ram port b access over flow
r91,					10,			read code segment
r91,					 9,			write code segment
r91,					 8,			read stack over flow
r91,					 7,			write stack over flow
r91,					 6,			hlt error
